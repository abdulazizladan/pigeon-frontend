<main class="director-dashboard-main">
  <h1 class="page-title">Station Status Overview</h1>

  <section class="summary-section" fxLayout="column" fxLayoutGap="25px">
    <mat-card class="status-summary-card">
      <mat-card-header>
        <mat-card-title class="card-section-title">Stations Summary</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        @if (directorStore.loading()) {
        <div class="loading-state-summary">
          <mat-progress-bar mode="indeterminate" color="primary"></mat-progress-bar>
          <p>Loading station statistics...</p>
        </div>
        } @else {
        <div class="stats-grid-container">

          <div class="stat-item total-stats-theme">
            <mat-icon class="stat-icon" color="primary">storage</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Total Stations</div>
              <div class="stat-value">
                {{ directorStore.stationStats()?.total ?? 0 }}
              </div>
            </div>
          </div>

          <div class="stat-item active-stats-theme">
            <mat-icon class="stat-icon color-green">check_circle_outline</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Active (Operational)</div>
              <div class="stat-value color-green">
                {{ directorStore.stationStats()?.active ?? 0 }}
              </div>
            </div>
          </div>

          <div class="stat-item inactive-stats-theme">
            <mat-icon class="stat-icon color-red">report_problem</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Inactive (Needs Service)</div>
              <div class="stat-value color-red">
                {{ directorStore.stationStats()?.inactive ?? 0 }}
              </div>
            </div>
          </div>
        </div>
        }
      </mat-card-content>
    </mat-card>

    <mat-card class="status-summary-card">
      <mat-card-header>
        <mat-card-title class="card-section-title">Sales Summary</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        @if (directorStore.loading()) {
        <div class="loading-state-summary">
          <mat-progress-bar mode="indeterminate" color="primary"></mat-progress-bar>
          <p>Loading sales statistics...</p>
        </div>
        } @else {
        <div class="stats-grid-container">

          <div class="stat-item total-stats-theme">
            <mat-icon class="stat-icon" color="primary">storage</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Total Revenue</div>
              <div class="stat-value">
                &#8358;{{ totalRevenue() | number:'1.2-2' }}
              </div>
            </div>
          </div>

          <div class="stat-item active-stats-theme">
            <mat-icon class="stat-icon color-green">check_circle_outline</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Today's expenditure</div>
              <div class="stat-value color-green">
                &#8358;0.00
              </div>
            </div>
          </div>

          <div class="stat-item inactive-stats-theme">
            <mat-icon class="stat-icon color-red">report_problem</mat-icon>
            <div class="stat-content">
              <div class="stat-label">Litres sold</div>
              <div class="stat-value color-red">
                0.00 L
              </div>
            </div>
          </div>
        </div>
        }
      </mat-card-content>
    </mat-card>
  </section>

  <section class="sales-section">
    <mat-card class="sales-performance-card">
      <mat-card-header>
        <mat-card-title>Revenue Trend</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <app-chart [chartData]="revenueTrendData" [chartType]="'line'" title="Monthly Revenue Trend"></app-chart>
      </mat-card-content>
    </mat-card>

    <mat-card class="sales-performance-card" style="margin-top: 20px;">
      <mat-card-header>
        <mat-card-title>Weekly Performance</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <app-chart [chartData]="weeklyPerformanceData" [chartType]="'bar'" title="Weekly Performance"></app-chart>
      </mat-card-content>
    </mat-card>
  </section>


</main>