<div id="body" class="app-container">
  <mat-toolbar color="primary" class="app-toolbar">
    <button mat-icon-button (click)="drawer.toggle()" class="menu-button" [class.hidden-on-large]="!isHandset">
      <mat-icon>menu</mat-icon>
    </button>

    <span class="app-title">Pigeon App</span>

    <span class="toolbar-spacer"></span>

    <span class="user-email">{{authStore.userEmail()}}</span>
    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="User menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item routerLink="profile">
        <mat-icon>person</mat-icon>
        Profile
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        Logout
      </button>
    </mat-menu>
  </mat-toolbar>

  <mat-drawer-container class="app-drawer-container">
    <mat-drawer #drawer class="app-sidenav" [mode]="(isHandset) ? 'over' : 'side'" [opened]="!isHandset">
      <div class="profile-section">
        <div id="profile" class="profile-avatar">
          <mat-icon>account_circle</mat-icon>
        </div>
        <div class="user-role">
          <span>{{authStore.userRole()}}</span>
        </div>
      </div>

      <mat-nav-list class="nav-menu-list">
        <a mat-list-item routerLink="./" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
          <mat-icon matListItemIcon>dashboard</mat-icon>
          <span matListItemTitle>Dashboard</span>
        </a>
        <a mat-list-item routerLink="my-station" routerLinkActive="active">
          <mat-icon matListItemIcon>business</mat-icon>
          <span matListItemTitle>My station</span>
        </a>
        <a mat-list-item routerLink="sales" routerLinkActive="active">
          <mat-icon matListItemIcon>credit_card</mat-icon>
          <span matListItemTitle>Sales</span>
        </a>
        <a mat-list-item routerLink="dispensers" routerLinkActive="active">
          <mat-icon matListItemIcon>people</mat-icon>
          <span matListItemTitle>Attendants</span>
        </a>
        <a mat-list-item routerLink="issues" routerLinkActive="active">
          <mat-icon matListItemIcon>bug_report</mat-icon>
          <span matListItemTitle>Issues</span>
        </a>
      </mat-nav-list>
    </mat-drawer>

    <mat-drawer-content class="app-drawer-content">
      <div class="main-content-wrapper">
        <router-outlet></router-outlet>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>